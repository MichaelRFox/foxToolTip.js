!function(){function e(e){var t,o=this;e=e||window.event,"hidden"!==S.visibility&&(S.transition="",clearTimeout(L)),S.visibility="visible",i(e),t=R[M.indexOf(o.id)],m(t),t.autoSize()&&f(t),S.width=t.width()+"px",1==t.autoPosition()&&t.orientation(p(o,t),!0),l(o,t),S.opacity=t.backgroundOpacity()}function t(e){var t,o=this;t=R[M.indexOf(o.id)],0!=t.trackMouse()&&(e=e||window.event,i(e),1==t.autoPosition()&&t.orientation(p(o,t),!0),l(o,t))}function o(e){var t,o,n,i=this;e=e||window.event,t=R[M.indexOf(i.id)],o=t.transitionHidden(),S.transition=o,S["-moz-transition"]=o,S["-webkit-transiton"]=o,S["-o-transition"]=o,n=o.split(" ")[1].replace("s",""),L=window.setTimeout(function(){S.visibility="hidden"},1e3*n),S.opacity=0}function n(){g=document.documentElement.clientWidth||window.innerWidth||document.body.clientWidth,w=document.documentElement.clientHeight||window.innerHeight||document.body.clientHeight,b=g/w}function i(e){"undefined"!=typeof d3?(C=d3.event.clientX,E=d3.event.clientX):(C=e.clientX,E=e.clientY)}function r(e,t){t="undefined"==typeof t;var o,n,i={},r=R[M.indexOf(e.id)];if(1==r.mousePoint()?(i.left=C-20,i.top=E-20,i.right=C+20,i.bottom=E+20):i=e.getBoundingClientRect(),t!==!1){var d=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,a=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.clientTop||document.body.clientTop,s=document.documentElement.clientLeft||document.body.clientLeft;o=Math.round(i.top+d-u),n=Math.round(i.left+a-s)}else o=i.top,n=i.left;var f=i.bottom-i.top,l=i.right-i.left;return{top:o,left:n,height:f,width:l}}function d(e){e=e.toLowerCase();for(var t=0;t<v.length;t++)if(v[t].selectorText.toLowerCase()==e)return v[t]}function a(e){e=e.toLowerCase();for(var t=0;t<v.length;t++)if(v[t].selectorText.toLowerCase()==e)return t;return null}function u(e){var t;return T.style.color=e,t=getComputedStyle(T,null).color,t=t.match(/\d+/g),"rgb("+t[0]+","+t[1]+","+t[2]+")"}function s(e){return"number"==typeof e?e:(T.style.width=e,parseInt(window.getComputedStyle(T,null).getPropertyValue("width"),10))}function f(e){var t,o,n;t=y.offsetWidth+y.offsetHeight,y.style.width="",o=1/((b+1)/t),n=t-o,e.width(Math.max(e.minWidth(),Math.round(n)),!0)}function l(e,t){var o,n,i,d,a=r(e),u=function(e){var o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=e,i=y.offsetHeight/2;return 0>e-o?(n=0,i=Math.max(t.arrowSize()+t.borderRadius(),e+y.offsetHeight/2)):e-o+y.offsetHeight>w&&(n=w-y.offsetHeight,i=Math.min(y.offsetHeight-t.borderRadius()-t.arrowSize(),y.offsetHeight/2+e-n)),{topAdjust:Math.round(n),arrowAdjust:Math.round(i)}},s=function(e){var o=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,n=e,i=y.offsetWidth/2;return 0>e-o?(n=0,i=Math.max(t.arrowSize()+t.borderRadius(),e+y.offsetWidth/2)):e-o+y.offsetWidth>g&&(n=g-y.offsetWidth,i=Math.min(y.offsetWidth-t.borderRadius()-t.arrowSize(),y.offsetWidth/2+e-n)),{leftAdjust:Math.round(n),arrowAdjust:Math.round(i)}};switch(t.orientation()){case"top":o=a.top-t.arrowSize()-y.offsetHeight,n=a.width/2+a.left-y.offsetWidth/2,d=s(n),S.top=Math.round(o)+"px",S.left=d.leftAdjust+"px",z.top="99.5%",z.left=d.arrowAdjust+"px",z.bottom="",z.right="",z.marginLeft=-t.arrowSize()+"px",z.marginTop="",z.borderColor=t.backgroundColor()+" transparent transparent transparent";break;case"bottom":o=a.top+a.height+t.arrowSize(),n=a.width/2+a.left-y.offsetWidth/2,d=s(n),S.top=Math.round(o)+"px",S.left=d.leftAdjust+"px",z.top="",z.left=d.arrowAdjust+"px",z.bottom="99.5%",z.right="",z.marginLeft=-t.arrowSize()+"px",z.marginTop="",z.borderColor="transparent transparent "+t.backgroundColor()+" transparent";break;case"left":o=a.height/2+a.top-y.offsetHeight/2,n=a.left-y.offsetWidth-t.arrowSize(),i=u(o),S.top=i.topAdjust+"px",S.left=Math.round(n)+"px",z.top=i.arrowAdjust+"px",z.left="99.5%",z.bottom="",z.right="",z.marginLeft="",z.marginTop=-t.arrowSize()+"px",z.borderColor="transparent transparent transparent "+t.backgroundColor();break;case"right":o=a.height/2+a.top-y.offsetHeight/2,n=a.left+a.width+t.arrowSize(),i=u(o),S.top=i.topAdjust+"px",S.left=Math.round(n)+"px",z.top=i.arrowAdjust+"px",z.left="",z.bottom="",z.right="99.5%",z.marginLeft="",z.marginTop=-t.arrowSize()+"px",z.borderColor="transparent "+t.backgroundColor()+" transparent transparent"}}function p(e,t){var o=r(e,!1),n=o.left+o.width/2,i=o.top+o.height/2,d=n-y.offsetWidth/2,a=g-n-y.offsetWidth/2,u=i-y.offsetHeight/2,s=w-i-y.offsetHeight/2,f=o.left-t.arrowSize()-y.offsetWidth,l=g-y.offsetWidth-t.arrowSize()-o.left-o.width,p=o.top-t.arrowSize()-y.offsetHeight,c=w-y.offsetHeight-t.arrowSize()-o.top-o.height,h=Math.min(u,s,f),m=Math.min(u,s,l),b=Math.min(d,a,p),x=Math.min(d,a,c);switch(t.preferredOrientation()){case"left":if(h>=0)return"left";break;case"right":if(m>=0)return"right";break;case"top":if(b>=0)return"top";break;case"bottom":if(x>=0)return"bottom"}return 0>h&&0>m&&0>b&&0>x&&(h+=o.height,m+=o.height,b+=o.width,x+=o.width),h>=m&&h>=b&&h>=x?"left":m>=h&&m>=b&&m>=x?"right":b>=m&&b>=h&&b>=x?"top":"bottom"}function c(){if(1!=W){if(window.addEventListener?window.addEventListener("resize",n):window.attachEvent?window.attachEvent("onresize",n):window.onresize=n,n(),0==document.styleSheets.length){var e=document.getElementsByTagName("head")[0];x=document.createElement("style"),x.type="text/css",x.rel="stylesheet",x.media="screen",x.title="foxToolTip",x=e.appendChild(x)}x=document.styleSheets[0],v=x.cssRules?x.cssRules:x.rules,x.insertRule?(x.insertRule(".foxToolTip {opacity: 0;width: 120px;position: absolute;visibility: hidden;z-index: 1;pointer-events: none;display: inline-block;}",v.length),x.insertRule('.foxToolTip::after{content: "";position: absolute;border-style: solid;pointer-events: none;}',v.length),x.insertRule(".foxToolTipTarget {cursor: help;}",v.length)):(x.addRule(".foxToolTip","{opacity: 0;width: 120px;position: absolute;visibility: hidden;z-index: 1;pointer-events: none;display: inline-block;}",v.length),x.addRule(".foxToolTip::after",'{content: "";position: absolute;border-style: solid;pointer-events: none;}',v.length),x.addRule(".foxToolTipTarget","{cursor: help;}",v.length)),S=d(".foxToolTip").style,z=d(".foxToolTip::after").style,k=d(".foxToolTipTarget").style,y=document.createElement("div"),y.className="foxToolTip",document.body.insertBefore(y,document.body.firstChild),T=document.createElement("div"),T.style.visible="hidden",T.style.position="absolute",T.style.display="inline-block",document.body.insertBefore(T,document.body.firstChild),W=!0}}function h(){window.removeEventListener?window.removeEventListener("resize",n):window.detachEvent?window.detachEvent("onresize",n):window.onresize="",x.deleteRule?(x.deleteRule(a(".foxToolTip")),x.deleteRule(a(".foxToolTip::after")),x.deleteRule(a(".foxToolTipTarget"))):(x.removeRule(a(".foxToolTip")),x.removeRule(a(".foxToolTip::after")),x.removeRule(a(".foxToolTipTarget"))),y.parentNode.removeChild(y),T.parentNode.removeChild(T),x=void 0,v=void 0,W=!1}function m(e){var t;S.fontFamily=e.font().family,S.fontSize=e.font().size+"px",S.color=e.foregroundColor(),S.backgroundColor=e.backgroundColor(),S.padding=e.padding(),S.borderRadius=e.borderRadius()+"px",z.borderWidth=e.arrowSize()+"px",k.cursor=e.cursor(),S.boxShadow=e.boxShadow(),S["-moz-boxShadow"]=e.boxShadow(),S["-webkit-boxShadow"]=e.boxShadow(),t=e.transitionVisible(),S.transition=t,S["-moz-transition"]=t,S["-webkit-transiton"]=t,S["-o-transition"]=t,S.width=e.minWidth()+"px",y.innerHTML=e.content()}var g,w,b,x,v,y,T,S,z,k,C,E,L,R=[],M=[],W=!1;return tip=function(n,i){var r,d=this,a={content:"",orientation:"",preferredOrientation:"right",autoPosition:!0,autoSize:!0,mousePoint:!1,trackMouse:!1,cursor:"help",fontFamily:"Tahoma",fontSize:"16",foregroundColor:"beige",backgroundColor:"midnightBlue",backgroundOpacity:1,padding:"5px 10px",borderRadius:6,boxShadow:"8px 8px 8px 0 rgba(0,0,0, 0.5)",transitionVisible:"opacity 0.4s 0s",transitionHidden:"opacity 0.4s 0s",arrowSize:12,width:"auto",minWidth:80};return d.content=function(e){return"undefined"==typeof e?a.content:(a.content=e,d)},d.orientation=function(e,t){return"undefined"==typeof e?a.orientation:(t="undefined"==typeof t?!1:t,a.orientation=e,a.autoPosition=t,d)},d.preferredOrientation=function(e){return"undefined"==typeof e?a.preferredOrientation:(a.preferredOrientation=e,d)},d.autoPosition=function(e){return"undefined"==typeof e?a.autoPosition:(a.autoPosition=e,0==e&&""==a.position&&(a.position="right"),d)},d.autoSize=function(e){return"undefined"==typeof autosize?a.autoSize:(a.autoSize=e,d)},d.mousePoint=function(e){return"undefined"==typeof e?a.mousePoint:(a.mousePoint=e,d)},d.trackMouse=function(e){return"undefined"==typeof e?a.trackMouse:(a.trackMouse=e,a.mousePoint=e,d)},d.cursor=function(e){return"undefined"==typeof e?a.cursor:(a.cursor=e,d)},d.font=function(e,t){return 0==arguments.length?{family:a.fontFamily,size:a.fontSize}:(1==arguments.length&&(t="1em"),a.fontFamily=e,a.fontSize=s(t),d)},d.foregroundColor=function(e){return"undefined"==typeof e?a.foregroundColor:(a.foregroundColor=e,d)},d.backgroundColor=function(e){return"undefined"==typeof e?a.backgroundColor:(a.backgroundColor=e,d)},d.backgroundOpacity=function(e){return"undefined"==typeof e?a.backgroundOpacity:(a.backgroundOpacity=e,d)},d.padding=function(e){if("undefined"==typeof e)return a.padding;var t,o;switch(e=e.split(" ",4),e.length){case 0:return a.padding;case 1:t=s(e[0]),a.padding=t+"px "+t+"px "+t+"px "+t+"px";break;case 2:t=s(e[0]),o=s(e[1]),a.padding=t+"px "+o+"px "+t+"px "+o+"px";break;case 3:t=s(e[1]),a.padding=s(e[0])+"px "+t+"px "+s(e[2])+"px "+t+"px";break;case 4:a.padding=s(e[0])+"px "+s(e[1])+"px "+s(e[2])+"px "+s(e[3])+"px"}return d},d.borderRadius=function(e){return"undefined"==typeof e?a.borderRadius:(a.borderRadius=s(e),d)},d.boxShadow=function(e,t,o){if(0==arguments.length)return a.boxShadow;var n,i,r;return"none"==arguments[0]?a.boxShadow="":(i=s(e),n=u(t),0!==o?(rgbCore=n.match(/\d+/g),r="rgba("+parseInt(rgbCore[0])+","+parseInt(rgbCore[1])+","+parseInt(rgbCore[2])+","+o+")"):r=n,a.boxShadow=i+"px "+i+"px "+i+"px 0 "+r),d},d.transitionVisible=function(e,t){return 0==arguments.length?a.transitionVisible:(a.transitionVisible="opacity "+t+"s ease-in "+e+"s",d)},d.transitionHidden=function(e,t){return 0==arguments.length?a.transitionHidden:(a.transitionHidden="opacity "+t+"s ease-out "+e+"s",d)},d.arrowSize=function(e){return"undefined"==typeof e?a.arrowSize:(a.arrowSize=s(e),d)},d.width=function(e,t){return"undefined"==typeof e?a.width:(t="undefined"!=typeof t,a.width=s(e),a.autoSize=t,d)},d.minWidth=function(e){return"undefined"==typeof e?a.minWidth:(a.minWidth=s(e),d)},d.remove=function(){"undefined"!=typeof d3?r.classed("foxToolTipTarget",!1).on("mouseover",null).on("mouseout",null).on("mousemove",null):(r.className=r.className.replace(" foxToolTipTarget",""),r.removeEventListener?(r.removeEventListener("mouseover",e),r.removeEventListener("mouseout",o),r.removeEventListener("mousemove",t)):(r.onmousemove=null,r.onmouseover=null,r.onmouseout=null));var i=M.indexOf(n);R.splice(i,1),M.splice(i,1),0==R.length&&h()},"undefined"!=typeof d3?r=d3.select("#"+n).classed("foxToolTipTarget",!0).on("mouseover",e).on("mouseout",o).on("mousemove",t):(r=document.getElementById(n),r.className+=" foxToolTipTarget",r.addEventListener?(r.addEventListener("mouseover",e,!0),r.addEventListener("mouseout",o,!0),r.addEventListener("mousemove",t,!0)):(r.onmouseover=e,r.onmouseout=o,r.onmousemove=t)),a.content=i,d},foxToolTip={create:function(e,t){W||c();var o=new tip(e,t);return R.push(o),M.push(e),R[R.length-1]},remove:function(e){var t;t=R[M.indexOf(e)],t.remove()}},foxToolTip}();
